# ADR-0005: Error Handling for Division by Zero

> **Scope**: Document decision clusters, not individual technology choices. Group related decisions that work together (e.g., "Frontend Stack" not separate ADRs for framework, styling, deployment).

- **Status:** Accepted
- **Date:** 2025-11-23
- **Feature:** 001-basic-calculator
- **Context:** The division operation in the Basic Calculator library requires a clear and consistent strategy for handling scenarios where the divisor is zero to prevent crashes and provide informative feedback.

## Decision

The division function (`divide`) will raise a `ZeroDivisionError` when the divisor (`b`) is zero.

## Consequences

### Positive

- Aligns with standard Python behavior for division by zero, making the library's behavior predictable for Python developers.
- Provides a clear and catchable exception for consumers of the library.

### Negative

- Consumers of the library must explicitly handle this exception in their code if they wish to recover from division by zero, rather than receiving a default value.

## Alternatives Considered

- **Alternative 1**: Return a special value (e.g., `float('inf')` or `None`). Rejected because returning a value masks the error condition and can lead to silent bugs or unexpected behavior downstream. Raising an exception forces explicit error handling.
- **Alternative 2**: Return `NaN` (`float('nan')`). Rejected for the same reasons as returning `inf` or `None`.
- **Alternative 3**: Custom exception. Rejected to avoid introducing a new exception type when `ZeroDivisionError` is already idiomatic and perfectly suitable.

## References

- Feature Spec: specs/001-basic-calculator/spec.md
- Implementation Plan: specs/001-basic-calculator/plan.md
- Related ADRs: ADR-0001 (Core Technology Stack for Basic Calculator Library)
- Evaluator Evidence: N/A
